{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../news.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction NewsListComponent_option_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 19);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const country_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", country_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", country_r2, \" \");\n  }\n}\nfunction NewsListComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 20);\n    i0.ɵɵelement(2, \"img\", 21);\n    i0.ɵɵelementStart(3, \"div\", 22)(4, \"h5\", 23)(5, \"a\", 24);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"h6\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\", 25);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const item_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r3.urlToImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", item_r3.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(item_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Published by: \", item_r3.author, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r3.description);\n  }\n}\nexport let NewsListComponent = /*#__PURE__*/(() => {\n  class NewsListComponent {\n    constructor(newsService, route) {\n      this.newsService = newsService;\n      this.route = route;\n      this.cardList = [];\n      this.filteredCards = [];\n      this.countries = ['USA', 'Canada', 'UK', 'India'];\n      this.filter = {\n        fromDate: '',\n        toDate: ''\n      };\n    }\n    ngOnInit() {\n      this.newsList();\n    }\n    //method to get cards from api service\n    newsList() {\n      this.newsService.getNews().subscribe(data => {\n        this.list = data;\n        //console.log(this.list.articles);\n        this.cardList = this.list.articles;\n        this.filteredCards = this.list.articles;\n        console.log(this.filteredCards);\n      });\n    }\n    //Date conversion ISO\n    convertDateFormat(dateString) {\n      const date = new Date(dateString);\n      const isoDateString = date.toISOString();\n      return isoDateString;\n    }\n    //date filter to filter cards\n    applyFilters() {\n      if (this.filter.fromDate && this.filter.toDate) {\n        this.Date1 = new Date(this.filter.fromDate);\n        this.Date2 = new Date(this.filter.toDate);\n        this.fromDate = this.convertDateFormat(this.Date1);\n        this.toDate = this.convertDateFormat(this.Date2);\n        this.filteredCards = this.cardList.filter(cards => {\n          const cardDate = cards.publishedAt;\n          return cardDate >= this.fromDate && cardDate <= this.toDate;\n        });\n        console.log(this.filteredCards, 'new filtered cards');\n        // return this.filteredCards;   \n      } else {\n        this.filteredCards = this.list.articles;\n        console.log(this.filteredCards, 'new filtered cards');\n      }\n    }\n    //search method to search for a cards\n    searchCards() {\n      const searchInput = document.getElementById('searchInput');\n      const searchTerm = searchInput.value.toLowerCase();\n      if (searchTerm.length == 0) {\n        this.newsList();\n      }\n      this.filteredCards = this.filteredCards.filter(card => card.title.toLowerCase().includes(searchTerm));\n      console.log(this.filteredCards, 'check after search');\n      if (this.filteredCards.length == 0) {\n        this.filteredCards = this.cardList;\n        console.log(this.filteredCards);\n      }\n      return this.filteredCards;\n    }\n  }\n  NewsListComponent.ɵfac = function NewsListComponent_Factory(t) {\n    return new (t || NewsListComponent)(i0.ɵɵdirectiveInject(i1.NewsService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  NewsListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: NewsListComponent,\n    selectors: [[\"app-news-list\"]],\n    decls: 28,\n    vars: 4,\n    consts: [[1, \"\"], [1, \"navbar\", \"navbar-expand-lg\", \"bg-body-tertiary\"], [1, \"container-fluid\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"id\", \"navbarSupportedContent\", 1, \"collapse\", \"navbar-collapse\"], [\"role\", \"search\", 1, \"d-flex\"], [\"id\", \"searchInput\", \"type\", \"search\", \"placeholder\", \"Search article\", \"aria-label\", \"Search\", 1, \"form-control\", \"me-2\", 3, \"input\"], [\"id\", \"searchButton\", \"type\", \"submit\", 1, \"btn\", \"btn-outline-success\", 3, \"click\"], [1, \"fil-pos\"], [1, \"filter\"], [\"for\", \"countryFilter\"], [\"id\", \"countryFilter\", 1, \"form-select\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"fromDate\"], [\"type\", \"date\", \"id\", \"fromDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"for\", \"toDate\"], [\"type\", \"date\", \"id\", \"toDate\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [1, \"cards-al\"], [\"class\", \"\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"card\", 2, \"width\", \"18rem\"], [\"alt\", \"image\", 1, \"card-img-top\", \"img\", 3, \"src\"], [1, \"card-body\"], [1, \"card-title\"], [\"target\", \"_blank\", 1, \"\", 3, \"href\"], [1, \"card-text\"]],\n    template: function NewsListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"nav\", 1)(2, \"div\", 2)(3, \"a\", 3);\n        i0.ɵɵtext(4, \"News Utility\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 4)(6, \"form\", 5)(7, \"input\", 6);\n        i0.ɵɵlistener(\"input\", function NewsListComponent_Template_input_input_7_listener() {\n          return ctx.searchCards();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"button\", 7);\n        i0.ɵɵlistener(\"click\", function NewsListComponent_Template_button_click_8_listener() {\n          return ctx.searchCards();\n        });\n        i0.ɵɵtext(9, \" Search \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 8)(11, \"div\", 9)(12, \"label\", 10);\n        i0.ɵɵtext(13, \"Country:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"select\", 11)(15, \"option\");\n        i0.ɵɵtext(16, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(17, NewsListComponent_option_17_Template, 2, 2, \"option\", 12);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 9)(19, \"label\", 13);\n        i0.ɵɵtext(20, \"From:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function NewsListComponent_Template_input_ngModelChange_21_listener($event) {\n          return ctx.filter.fromDate = $event;\n        })(\"change\", function NewsListComponent_Template_input_change_21_listener() {\n          return ctx.applyFilters();\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 9)(23, \"label\", 15);\n        i0.ɵɵtext(24, \"To:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"input\", 16);\n        i0.ɵɵlistener(\"ngModelChange\", function NewsListComponent_Template_input_ngModelChange_25_listener($event) {\n          return ctx.filter.toDate = $event;\n        })(\"change\", function NewsListComponent_Template_input_change_25_listener() {\n          return ctx.applyFilters();\n        });\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(26, \"div\", 17);\n        i0.ɵɵtemplate(27, NewsListComponent_div_27_Template, 11, 5, \"div\", 18);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(17);\n        i0.ɵɵproperty(\"ngForOf\", ctx.countries);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.filter.fromDate);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.filter.toDate);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.filteredCards);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n    styles: [\"body[_ngcontent-%COMP%]{width:100%}.bg-body-tertiary[_ngcontent-%COMP%]{background-color:#cfe627!important}.container-fluid[_ngcontent-%COMP%]{margin-left:24px;margin-right:24px}.navbar-brand[_ngcontent-%COMP%]{font-size:24px;font-weight:700}.cards-al[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-evenly}.card[_ngcontent-%COMP%]{margin-top:24px;margin-left:12px;margin-right:12px;min-width:300px;min-height:400px;max-height:400px}.img[_ngcontent-%COMP%]{max-height:150px}.btn-pos[_ngcontent-%COMP%]{margin-left:auto}.card-text[_ngcontent-%COMP%]{text-align:justify}.fil-pos[_ngcontent-%COMP%]{margin-left:auto}.filter[_ngcontent-%COMP%]{display:inline-flex;align-items:center}label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-left:5px;margin-right:5px}p[_ngcontent-%COMP%]{text-overflow:ellipsis;height:100px;overflow:auto}.card-title[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}\"]\n  });\n  return NewsListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}